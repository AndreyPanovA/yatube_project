from django.http import Http404
from django.utils.translation import gettext as _


def feed(request, url, feed_dict=None):
    """Provided for backwards compatibility."""
    if not feed_dict:
        raise Http404(_("No feeds are registered."))

    slug = url.partition('/')[0]
    try:
        f = feed_dict[slug]
    except KeyError:
<<<<<<< HEAD
<<<<<<< HEAD
        raise Http404(_('Slug %r isnâ€™t registered.') % slug)
=======
        raise Http404(_("Slug %r isn't registered.") % slug)
>>>>>>> 0efae6b8ba0995009ac8fdaa5b7c1f9fa1ac2988
=======
        raise Http404(_("Slug %r isn't registered.") % slug)
>>>>>>> 0efae6b (first-commit)

    instance = f()
    instance.feed_url = getattr(f, 'feed_url', None) or request.path
    instance.title_template = f.title_template or ('feeds/%s_title.html' % slug)
    instance.description_template = f.description_template or ('feeds/%s_description.html' % slug)
    return instance(request)
