"""
Email message and email sending related helper functions.
"""

import socket

<<<<<<< HEAD
<<<<<<< HEAD
from django.utils.encoding import punycode

=======
>>>>>>> 0efae6b8ba0995009ac8fdaa5b7c1f9fa1ac2988
=======
>>>>>>> 0efae6b (first-commit)

# Cache the hostname, but do it lazily: socket.getfqdn() can take a couple of
# seconds, which slows down the restart of the server.
class CachedDnsName:
    def __str__(self):
        return self.get_fqdn()

    def get_fqdn(self):
        if not hasattr(self, '_fqdn'):
<<<<<<< HEAD
<<<<<<< HEAD
            self._fqdn = punycode(socket.getfqdn())
=======
            self._fqdn = socket.getfqdn()
>>>>>>> 0efae6b8ba0995009ac8fdaa5b7c1f9fa1ac2988
=======
            self._fqdn = socket.getfqdn()
>>>>>>> 0efae6b (first-commit)
        return self._fqdn


DNS_NAME = CachedDnsName()
